# 说明

一个从零开始搭建的未使用框架的查菜谱应用。

## 演示地址

- https://cookit-simon.netlify.app/

## 实现功能

- 搜索菜谱，呈现相关菜谱列表
- 查看菜谱详情
- 动态计算配料数量

## 做了这些事

1. webpack 基本配置

webpack 是个源代码打包工具，所谓打包，可理解为—— 根据 module 的导入导出找到源代码文件 => 对源代码做编译（去除空格、压缩等工作） => 生成编译后的代码——的过程。开发者写源代码，然后把源代码交给 webpack，经过 webpack 打包，得到可部署的代码。前端常用框架的脚手架工具，如 `create-react-app`, `vue-cli` 都采用 webpack 打包，并做好了基本配置。

webpack 是个通用的打包工具，任何一个从空白文件夹开始的项目都可以引入它，所有会有一些通用配置，本项目探索引入 webpack 需要做哪些基本配置，这些配置可以保留成所谓的样板代码(boilerplate)供后续新项目参考使用，脚手架工具的好处在于给开发者省下写样板代码的时间。

详见文档 [webpack 基本配置](https://github.com/went2/webpack5.x-config#readme)

2. MVC 架构中三层的各自分工

### mvc 浅析

[mvc wiki](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)

将功能不同的代码写到对应的地方，以模块的方式导出给外界使用。

理念是：一层不需要知道其他两层的具体细节，，只是调用对外暴露的方法。

本项目实现了 “查询-> 可分页的列表 -> 详情”这一基本功能，对 mvc 的实践具体是：

  1. Model 层：在 model.js 中定义应用的所有状态，及修改状态的方法，这里的状态专指从 api 服务器中获取的业务相关的数据。Model 层只是定义要有这些状态、如何根据业务修改状态，自己不会主动创建、修改状态，而是等待 订阅模式，controller 层的访问和修改。
  2. Controller 层：发挥两大作用：1）实现页面交互的逻辑，大部分是写事件处理函数，函数逻辑大致是：接收页面的输入 => 修改 model 中数据 => 通知相关 view 用最新的数据进行渲染；2）初始化应用，为各个 view 绑定对应的事件处理函数；
  3. View 层：具体指会根据数据（状态）动态变化的 view，纯静态的 view 会直接写到 html template 中。view 层主要考虑两个问题：1）生成可以绑定动态数据的模板，本项目用模板字符串实现；2）向 订阅模式，controller 层通知交互事件的发生。用户交互事件直接发生在 view 层，但处理事件的函数定义在 订阅模式，controller 层，这里采用发布/订阅模式，controller 订阅 view 的事件（调用view的方法，传入回调），当事件发生时，view 会依次通知给所有订阅方（调用view传入的回调）。

### 代码实例